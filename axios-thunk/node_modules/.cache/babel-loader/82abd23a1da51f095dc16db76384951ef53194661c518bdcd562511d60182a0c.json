{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { __deleteTodosThunk, __poseTodosThunk, __updateTodosThunk, selecttodoSlice } from \"../redux/modules/todoSlice\";\nimport { useState } from \"react\";\nimport { useDeleteTodoRTKMutation, useSetTodoRTKMutation, useUpdateTodoRTKMutation } from \"../api/todoRTKquery\";\nexport const useThunk = (todoid, title) => {\n  _s();\n  const dispatch = useDispatch();\n  // const {todos:todoSlice} = useSelector(selecttodoSlice)\n\n  const [newtodos, setNewTodos] = useState(\"\"); // Thunk input\n  const [newtodos2, setNewTodos2] = useState(\"\"); // RTK input\n\n  const onChangeInput = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    name === \"thunk\" && setNewTodos(value);\n    name === \"RTK\" && setNewTodos2(value);\n  };\n\n  // AXIOS POST 기능구현 : CRUD (2) POST\n  const onSubmitHandler = async e => {\n    e.preventDefault();\n    dispatch(__poseTodosThunk({\n      id: Date.now(),\n      title: newtodos\n    })); // THUNK // AXIOS GET 기능구현 : CRUD (1) READ // (3) 서버와 동기화 \n    setNewTodos(\"\");\n  }; // 리렌더링 발생\n\n  // AXIOS DELETE 기능구현 : CRUD (3) DELETE\n  const onDeleteHandler = async () => {\n    dispatch(__deleteTodosThunk(todoid)); // THUNK // AXIOS GET 기능구현 : CRUD (1) READ // (3) 서버와 동기화\n  }; // 리렌더링 발생\n\n  // AXIOS UPDATE 기능구현 : CRUD (4) UPDATE\n  const [update, setUpdate] = useState(false); // 조건부 렌더링\n  const onUpdateHandler = () => {\n    setUpdate(pre => !pre);\n  };\n  const [updatetodos, setUpdateTodos] = useState(title); // 수정할 title의 valuse\n\n  const onChangeupdate = e => {\n    setUpdateTodos(e.target.value);\n  };\n  const onUpdateSubmitHandler = () => async e => {\n    e.preventDefault();\n    dispatch(__updateTodosThunk({\n      id: todoid,\n      content: {\n        title: updatetodos\n      }\n    }));\n    setUpdate(pre => !pre);\n  }; // 리렌더링 발생\n\n  // RTK-QUERY_AXIOS POST 기능구현 : CRUD (2) POST\n  const [setTodoRTK] = useSetTodoRTKMutation();\n  const onSubmitRTKHandler = async e => {\n    e.preventDefault();\n    setTodoRTK({\n      id: Date.now(),\n      title: newtodos2\n    });\n  }; // 리렌더링 발생\n\n  // RTK-QUERY_AXIOS DELETE 기능구현 : CRUD (3) DELETE\n  const [deleteTodoRTK] = useDeleteTodoRTKMutation();\n  const onDeleteRTKHandler = todoid => async () => {\n    deleteTodoRTK(todoid); // THUNK // AXIOS GET 기능구현 : CRUD (1) READ // (3) 서버와 동기화\n  }; // 리렌더링 발생\n\n  // AXIOS UPDATE 기능구현 : CRUD (4) UPDATE\n  const [updateTodoRTK] = useUpdateTodoRTKMutation();\n  const onUpdateSubmitRTKHandler = todoid => async e => {\n    e.preventDefault();\n    updateTodoRTK({\n      todoid,\n      data: {\n        title: updatetodos\n      }\n    });\n    setUpdate(pre => !pre);\n  }; // 리렌더링 발생\n\n  // return {todoSlice, newtodos,newtodos2, dispatch, onSubmitHandler, onChangeInput, onDeleteHandler,onUpdateHandler, onChangeupdate,onUpdateSubmitHandler,updatetodos ,update ,onSubmitRTKHandler, onDeleteRTKHandler, onUpdateSubmitRTKHandler}\n  return {\n    newtodos,\n    newtodos2,\n    dispatch,\n    onSubmitHandler,\n    onChangeInput,\n    onDeleteHandler,\n    onUpdateHandler,\n    onChangeupdate,\n    onUpdateSubmitHandler,\n    updatetodos,\n    update,\n    onSubmitRTKHandler,\n    onDeleteRTKHandler,\n    onUpdateSubmitRTKHandler\n  };\n};\n_s(useThunk, \"MoqLXEW/g8h8cwyFRUXkCPkPo6w=\", false, function () {\n  return [useDispatch, useSetTodoRTKMutation, useDeleteTodoRTKMutation, useUpdateTodoRTKMutation];\n});","map":{"version":3,"names":["useDispatch","useSelector","__deleteTodosThunk","__poseTodosThunk","__updateTodosThunk","selecttodoSlice","useState","useDeleteTodoRTKMutation","useSetTodoRTKMutation","useUpdateTodoRTKMutation","useThunk","todoid","title","_s","dispatch","newtodos","setNewTodos","newtodos2","setNewTodos2","onChangeInput","e","name","value","target","onSubmitHandler","preventDefault","id","Date","now","onDeleteHandler","update","setUpdate","onUpdateHandler","pre","updatetodos","setUpdateTodos","onChangeupdate","onUpdateSubmitHandler","content","setTodoRTK","onSubmitRTKHandler","deleteTodoRTK","onDeleteRTKHandler","updateTodoRTK","onUpdateSubmitRTKHandler","data"],"sources":["/Users/edwin.youngchan.park/Documents/sparta/inocamp/03주특기/InocamReactPrec/axios-thunk/src/hooks/useThunk.js"],"sourcesContent":["import { useDispatch, useSelector } from \"react-redux\"\nimport { __deleteTodosThunk, __poseTodosThunk, __updateTodosThunk, selecttodoSlice } from \"../redux/modules/todoSlice\"\nimport { useState } from \"react\"\nimport { useDeleteTodoRTKMutation, useSetTodoRTKMutation, useUpdateTodoRTKMutation } from \"../api/todoRTKquery\"\n\nexport const useThunk = (todoid, title) => {\n  const dispatch = useDispatch()\n  // const {todos:todoSlice} = useSelector(selecttodoSlice)\n\n\n  const [newtodos, setNewTodos] = useState(\"\") // Thunk input\n  const [newtodos2, setNewTodos2] = useState(\"\") // RTK input\n\n  const onChangeInput = (e) => {\n    const {name, value} = e.target\n    name === \"thunk\" && setNewTodos(value)\n    name === \"RTK\" && setNewTodos2(value)\n  }\n\n  // AXIOS POST 기능구현 : CRUD (2) POST\n  const onSubmitHandler = async (e) => {\n    e.preventDefault()\n    dispatch(__poseTodosThunk({id:Date.now(), title:newtodos})) // THUNK // AXIOS GET 기능구현 : CRUD (1) READ // (3) 서버와 동기화 \n    setNewTodos(\"\")\n  } // 리렌더링 발생\n\n   // AXIOS DELETE 기능구현 : CRUD (3) DELETE\n  const onDeleteHandler = async () => {\n    dispatch(__deleteTodosThunk(todoid)); // THUNK // AXIOS GET 기능구현 : CRUD (1) READ // (3) 서버와 동기화\n  }; // 리렌더링 발생\n\n  // AXIOS UPDATE 기능구현 : CRUD (4) UPDATE\n  const [update, setUpdate] = useState(false); // 조건부 렌더링\n  const onUpdateHandler = () => {\n    setUpdate((pre) => !pre);\n  };\n\n  const [updatetodos, setUpdateTodos] = useState(title); // 수정할 title의 valuse\n\n  const onChangeupdate = (e) => {\n    setUpdateTodos(e.target.value)\n  }\n\n  const onUpdateSubmitHandler = () => async (e) => {\n    e.preventDefault();\n    dispatch(\n      __updateTodosThunk({ id: todoid, content: { title: updatetodos } })\n    );\n    setUpdate((pre) => !pre);\n  }; // 리렌더링 발생\n\n    // RTK-QUERY_AXIOS POST 기능구현 : CRUD (2) POST\n    const [setTodoRTK] = useSetTodoRTKMutation()\n    const onSubmitRTKHandler = async (e) => {\n      e.preventDefault()\n      setTodoRTK({id:Date.now(), title:newtodos2})\n    } // 리렌더링 발생\n\n\n    // RTK-QUERY_AXIOS DELETE 기능구현 : CRUD (3) DELETE\n  const [deleteTodoRTK] = useDeleteTodoRTKMutation()\n   const onDeleteRTKHandler = (todoid) => async () => {\n    deleteTodoRTK(todoid); // THUNK // AXIOS GET 기능구현 : CRUD (1) READ // (3) 서버와 동기화\n  }; // 리렌더링 발생\n\n\n  // AXIOS UPDATE 기능구현 : CRUD (4) UPDATE\n  const [updateTodoRTK] = useUpdateTodoRTKMutation()\n  const onUpdateSubmitRTKHandler = (todoid) => async (e) => {\n    e.preventDefault();\n    updateTodoRTK({todoid, data:{title:updatetodos}})\n    setUpdate((pre) => !pre);\n  }; // 리렌더링 발생\n\n  \n\n  // return {todoSlice, newtodos,newtodos2, dispatch, onSubmitHandler, onChangeInput, onDeleteHandler,onUpdateHandler, onChangeupdate,onUpdateSubmitHandler,updatetodos ,update ,onSubmitRTKHandler, onDeleteRTKHandler, onUpdateSubmitRTKHandler}\n  return {newtodos,newtodos2, dispatch, onSubmitHandler, onChangeInput, onDeleteHandler,onUpdateHandler, onChangeupdate,onUpdateSubmitHandler,updatetodos ,update ,onSubmitRTKHandler, onDeleteRTKHandler, onUpdateSubmitRTKHandler}\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}