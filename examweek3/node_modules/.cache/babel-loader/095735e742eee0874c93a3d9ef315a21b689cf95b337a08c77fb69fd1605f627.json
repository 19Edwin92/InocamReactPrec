{"ast":null,"code":"import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport axios from 'axios';\n\n/**\n * 2초 지연을 시키는 함수입니다 (비동기 작업).\n */\nimport { waitTwoSeconds } from '../../utils';\nexport const __getToDo = createAsyncThunk('__getToDo', async (_, thunkAPI) => {\n  try {\n    let res = await axios.get('http://localhost:3001/todos');\n    return thunkAPI.fulfillWithValue(res.data);\n  } catch (error) {\n    return thunkAPI.rejectWithValue(error.message);\n  }\n});\nexport const __addToDo = createAsyncThunk('__addToDo', async (payload, thunkAPI) => {\n  await waitTwoSeconds();\n  try {\n    await axios.post('http://localhost:3001/todos', payload);\n    return payload;\n  } catch (error) {\n    return thunkAPI.rejectWithValue(error.message);\n  }\n});\nexport const __deleteTodo = createAsyncThunk('__deleteToDo', async (payload, thunkAPI) => {\n  // await waitTwoSeconds()\n  try {\n    console.log();\n    // await axios.delete(`http://localhost:3001/todos${payload}`)\n    // return payload\n  } catch (error) {\n    return thunkAPI.rejectWithValue(error.message);\n  }\n});\nconst initialState = {\n  todos: [],\n  isLoading: false,\n  isError: false,\n  error: null\n};\nconst todosSlice = createSlice({\n  name: 'todos',\n  initialState,\n  extraReducers: builder => {\n    builder\n    // __getToDo\n    .addCase(__getToDo.pending, state => {\n      state.isLoading = true;\n      state.isError = false;\n    }).addCase(__getToDo.fulfilled, (state, action) => {\n      state.isLoading = false;\n      state.isError = false;\n      state.todos = [...action.payload];\n    }).addCase(__getToDo.rejected, state => {\n      state.isLoading = false;\n      state.isError = true;\n    })\n    // __addToDo\n    .addCase(__addToDo.pending, state => {\n      state.isLoading = true;\n      state.isError = false;\n    }).addCase(__addToDo.fulfilled, (state, action) => {\n      state.isLoading = false;\n      state.isError = false;\n      state.todos = [...state.todos, action.payload];\n    }).addCase(__addToDo.rejected, state => {\n      state.isLoading = false;\n      state.isError = true;\n    });\n  }\n});\nexport default todosSlice.reducer;\nexport const selectTodos = state => state.todos;","map":{"version":3,"names":["createAsyncThunk","createSlice","axios","waitTwoSeconds","__getToDo","_","thunkAPI","res","get","fulfillWithValue","data","error","rejectWithValue","message","__addToDo","payload","post","__deleteTodo","console","log","initialState","todos","isLoading","isError","todosSlice","name","extraReducers","builder","addCase","pending","state","fulfilled","action","rejected","reducer","selectTodos"],"sources":["/Users/edwin.youngchan.park/Documents/sparta/inocamp/03주특기/InocamReactPrec/examweek3/src/redux/modules/todosSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport axios from 'axios'\n\n/**\n * 2초 지연을 시키는 함수입니다 (비동기 작업).\n */\nimport { waitTwoSeconds } from '../../utils';\n\nexport const __getToDo = createAsyncThunk(\n  '__getToDo',\n  async (_, thunkAPI) => {\n    try {\n      let res = await axios.get('http://localhost:3001/todos')\n      return thunkAPI.fulfillWithValue(res.data)\n    } catch (error) {\n      return thunkAPI.rejectWithValue(error.message)\n    }\n  }\n)\n\nexport const __addToDo = createAsyncThunk(\n  '__addToDo',\n  async (payload, thunkAPI) => {\n      await waitTwoSeconds()\n      try {\n        await axios.post('http://localhost:3001/todos', payload)\n        return payload\n      }\n      catch (error) {\n        return thunkAPI.rejectWithValue(error.message)\n      }\n  }  \n);\n\nexport const __deleteTodo = createAsyncThunk(\n  '__deleteToDo',\n  async (payload, thunkAPI) => {\n    // await waitTwoSeconds()\n    try {\n      console.log();\n      // await axios.delete(`http://localhost:3001/todos${payload}`)\n      // return payload\n    }\n    catch (error) {\n      return thunkAPI.rejectWithValue(error.message)\n    }\n  }\n);\n\nconst initialState = {\n  todos : [],\n  isLoading: false,\n  isError : false,\n  error :null\n};\n\nconst todosSlice = createSlice({\n  name: 'todos',\n  initialState,\n  extraReducers : builder => {\n    builder\n      // __getToDo\n      .addCase(__getToDo.pending, (state) => {\n        state.isLoading = true;\n        state.isError = false;\n      })\n      .addCase(__getToDo.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.isError = false;\n        state.todos = [...action.payload]\n      })\n      .addCase(__getToDo.rejected, (state) => {\n        state.isLoading = false;\n        state.isError = true;\n      })\n      // __addToDo\n      .addCase(__addToDo.pending, (state) => {\n        state.isLoading = true;\n        state.isError = false;\n      })\n      .addCase(__addToDo.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.isError = false;\n        state.todos = [...state.todos, action.payload]\n      })\n      .addCase(__addToDo.rejected, (state) => {\n        state.isLoading = false;\n        state.isError = true;\n      })\n  }\n});\n\nexport default todosSlice.reducer;\nexport const selectTodos = (state) => state.todos\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}